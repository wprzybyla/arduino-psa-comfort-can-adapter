; PlatformIO Project Configuration File
;
; PSA Comfort CAN Adapter - ESP32-S3 Project
; This adapter bridges communication between CAN2004 (old BSI) and CAN2010 (modern PSA devices)
;
; Hardware: LilyGO T2CAN (ESP32-S3 with dual MCP2515 CAN controllers)
; Target: Connect modern PSA CAN2010 devices (NAC, SMEG, Color Matrix) to older vehicles
;
; For complete documentation, see:
; - README.md - Project overview and getting started
; - docs/QUICKSTART.md - Quick setup guide
; - docs/TECHNICAL.md - Complete technical documentation

[env:lilygo-t2can]
; Platform and Board Configuration
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Board Build Options
board_build.partitions = default.csv      ; Partition table
board_build.filesystem = littlefs         ; File system type
board_build.flash_size = 16MB             ; Flash memory size
board_build.arduino.memory_type = qspi_opi ; Memory type for ESP32-S3
board_build.sdkconfig = sdkconfig.t2can   ; Custom SDK configuration file

; Build Flags
; BOARD_CONFIG_H - Points to board-specific pin definitions (BoardConfig_t2can.h)
; CORE_DEBUG_LEVEL - Debug verbosity (0-5, 3 = info level)
build_flags = 
    -DBOARD_CONFIG_H=\"BoardConfig_t2can.h\"
    -DCORE_DEBUG_LEVEL=3

; Serial Monitor
monitor_speed = 115200  ; Baud rate for serial communication

; Library Dependencies
; These libraries are automatically downloaded by PlatformIO
lib_deps = 
    autowp/autowp-mcp2515@^1.3.1    ; MCP2515 CAN controller library (dual CAN support)
    paulstoffregen/DS1307RTC         ; RTC support for DS1307/DS3231 modules
    paulstoffregen/Time@^1.6.1       ; Time library for RTC integration

; Project Structure:
; - src/main.cpp: Main application code (CAN message processing)
; - src/can_utils.cpp: Utility functions (checksums, popups, date calculations)
; - include/BoardConfig_t2can.h: Hardware pin definitions for LilyGO T2CAN
; - include/config.h: Project configuration (CAN speed, serial speed, etc.)
; - include/can_utils.h: Function declarations
;
; CAN Bus Configuration:
; - CAN0 (destination): Connected to vehicle's CAN2004 bus (CS pin 10)
; - CAN1 (source): Connected to CAN2010 device like NAC/SMEG (CS pin 14)
; - CAN Speed: 125 kbps (Entertainment CAN bus - Low speed)
; - MCP2515 Frequency: 16 MHz
;
; Hardware Connections (LilyGO T2CAN):
; - SPI: SCK=12, MISO=13, MOSI=11
; - CAN0 CS: Pin 10 (vehicle CAN2004)
; - CAN1 CS: Pin 14 (CAN2010 device)
; - I2C: SDA=8, SCL=9 (RTC module via QWIIC interface)
;
; For troubleshooting compilation issues:
; - Ensure Python is installed (not Windows Store version)
; - Run: pio lib install (if libraries fail to install)
; - Check: docs/TECHNICAL.md for detailed troubleshooting
